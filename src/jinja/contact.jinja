<article class="contact" data-page="contact">

  <header>
    <h2 class="h2 article-title">Contact</h2>
  </header>

  <section class="mapbox" data-mapbox>
    <figure>
      <iframe
        src="{{about.googlemaps}}"
        width="400" height="300" loading="lazy"></iframe>
    </figure>
  </section>

  <section class="contact-form">

    <h3 class="h3 form-title">WhatsApp Direct Contact Form</h3>

    <form class="form" data-form>

      <div class="input-wrapper">
        <!-- Enlarged the message box and centered the button -->
        <textarea id="message" name="message" class="form-input" placeholder="Your Message" required data-form-input style="width: 210%; height: 200px; margin-bottom: 20px; font-size: 16px;"></textarea>

        <div style="text-align: center; margin-top: 170px;">
          <button class="form-btn" type="button" onclick="validateAndSend()" style="font-size: 16px; padding: 12px 20px;">
            <ion-icon name="paper-plane" style="font-size: 18px; vertical-align: middle;"></ion-icon>
            <span>Send Message</span>
        </button>
      </div>

    </form>

  </section>

 <script>
  function validateAndSend() {
    // Retrieve user input values
    var message = document.getElementById('message').value;

    // Variable to store error messages
    var errors = '';

    // Validate message input
    if (message.length < 10) {
      errors += 'Please enter a message with at least 10 characters.\n';
    }

    // If there are errors, display them in a single alert
    if (errors) {
      alert(errors);
      return;
    }

    // Construct WhatsApp message URL with the message only
    var whatsappURL = 'https://api.whatsapp.com/send?phone=+6580137483&text=' + encodeURIComponent('Message: ' + message);

    // Open WhatsApp URL in a new window
    window.open(whatsappURL, '_blank');
  }
</script>
